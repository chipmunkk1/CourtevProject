<!DOCTYPE html>
<html>

<head>
    <title>Courtev</title>
    <link rel="stylesheet" href="Courtev.css">
    <script src="DataAccess.js"></script>
    <script src="Logic.js"></script>
    <script src="three.r134.min.js"></script>
    <script src="vanta.globe.min.js"></script>
    <script src="Presentation.js"></script>
    </head>

<body>

    <iframe id="Frame" src="" frameborder="0"></iframe>

    <div id="split-loader">
        <div class="half left-half"></div>
        <div class="half right-half"></div>
    </div>

    <div id="main-content">

        <div id="vanta-bg"></div>

        <div id="content-area">

            <div id="global-header">
                <img id="logo" src="logo.png">
                <h2>Welcome to the Sports Arena!</h2>
            </div>

            <div id="page-personal" class="page-section">
                <table id="Content-Table" border="0">
                    <tr>
                        <td colspan="2">
                            <h4 style="margin:0;">Personal Details:</h4>
                        </td>
                    </tr>
                    <form id="PersonalF">
                        <tr>
                            <td>First name:</td>
                            <td><input type="text" maxlength="10" id="fname"></td>
                        </tr>
                        <tr>
                            <td>Last name:</td>
                            <td><input type="text" maxlength="10" id="lname"></td>
                        </tr>
                        <tr>
                            <td>Phone number:</td>
                            <td><input type="text" maxlength="10" id="PNumber"></td>
                        </tr>
                        <tr>
                            <td>Id:</td>
                            <td><input type="text" maxlength="9" id="Id"></td>
                        </tr>
                        <tr>
                            <td>Address:</td>
                            <td><input type="text" maxlength="12" id="Address"></td>
                        </tr>
                    </form>
                </table>
                <br>
                <center>
                    <button class="btn-primary" onclick="handlePersonalStep()">Next: Choose Court >></button>
                </center>

                <br><hr><br>
                
                <div style="background: rgba(255,255,255,0.7); padding: 15px; border-radius: 8px; text-align: center;">
                    <h4>Reservation Management</h4>
                    Id to remove: <input type="text" id="removeId" name="removeId" maxlength="9" style="width: 100px;">
                    <button type="button" class="btn-secondary" onclick="removeIdFunc()">Cancel reservation</button>
                    <br><br>
                    <button type="button" class="btn-secondary" onclick="getAllReservations()">Show All Reservations</button>
                    <br><br>
                    <p id="res" style="text-align: left; max-height: 200px; overflow-y: auto;"></p>
                </div>
            </div>


            <div id="page-reservation" class="page-section hidden">
                <button class="btn-secondary" onclick="goBackToPersonal()">
                    << Back</button>

                        <table width="100%" border="0" cellspacing="0" cellpadding="0"
                            style="background-color: transparent;">
                            <tr valign="top">
                                <td width="65%">
                                    <table border="0" cellpadding="5" cellspacing="0">
                                        <tr>
                                            <td colspan="2">
                                                <h4 style="margin-bottom: 5px;">Court Details:</h4>
                                            </td>
                                        </tr>
                                        <form id="CourtF">
                                            <tr>
                                                <td>City:</td>
                                                <td>
                                                    <select id="city">
                                                        <option value="Mazraa">Mazraa</option>
                                                        <option value="Furedes">Furedes</option>
                                                        <option value="Sakhnin">Sakhnin</option>
                                                        <option value="Deir el Asad">Deir el Asad</option>
                                                        <option value="Karmiel">Karmiel</option>
                                                        <option value="Acre">Acre</option>
                                                        <option value="Nahariya">Nahariya</option>
                                                        <option value="Haifa">Haifa</option>
                                                    </select>
                                                </td>
                                            </tr>
                                        </form>

                                        <tr>
                                            <td colspan="2">
                                                <h4 style="margin-bottom: 5px;">Dates:</h4>
                                            </td>
                                        </tr>
                                        <form id="DatesF">
                                            <tr>
                                                <td><label>Date:</label></td>
                                                <td><input type="date" id="schedule-date"></td>
                                            </tr>
                                            <tr>
                                                <td><label>Time From:</label></td>
                                                <td><input type="time" id="alarm-timeF" min="0" max="23" value="00">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><label>To:</label></td>
                                                <td><input type="time" id="alarm-timeT"></td>
                                            </tr>
                                        </form>
                                    </table>

                                    <br>
                                    <textarea id="Notes" placeholder="Enter your notes" rows="3" cols="30"></textarea>
                                    <br><br>

                                    <button type="button" class="btn-primary" onclick="validateAndPay()">Proceed to
                                        Payment</button>
                                </td>

                                <td width="35%" style="padding-top: 50px; padding-left: 20px;">
                                    <div id="Pick">
                                        <h4>Pick a Court:</h4>
                                        <table border="0" cellspacing="5">
                                            <tr>
                                                <td><input type="radio" name="sport" value="football"
                                                        onclick="ChangeSite('https://www.soccersport.co.il')"></td>
                                                <td>Football -> 300₪/hr</td>
                                            </tr>
                                            <tr>
                                                <td><input type="radio" name="sport" value="basketball"
                                                        onclick="ChangeSite('https://www.sportcom.co.il/category/ציוד-כדורסל')">
                                                </td>
                                                <td>Basketball -> 240₪/hr</td>
                                            </tr>
                                            <tr>
                                                <td><input type="radio" name="sport" value="VallyBall"
                                                        onclick="ChangeSite('https://www.msport.co.il/73060-כדורים/122134')">
                                                </td>
                                                <td>Volleyball -> 180₪/hr</td>
                                            </tr>
                                            <tr>
                                                <td><input type="radio" name="sport" value="Tennis"
                                                        onclick="ChangeSite('https://www.lotems.co.il')"></td>
                                                <td>Tennis -> 120₪/hr</td>
                                            </tr>
                                        </table>
                                    </div>
                                </td>
                            </tr>
                        </table>
            </div>


            <div id="page-confirmation" class="page-section hidden"
                style="text-align: center; margin-top: 100px; background: rgba(255,255,255,0.9); padding: 40px; border-radius: 15px;">
                <h1 style="color: green;">Booking Confirmed!</h1>
                <h3>Thank you for using Sports Arena.</h3>
                <hr>
                <div id="final-summary" style="font-size: 1.2em; line-height: 1.6;">
                </div>
                <br><br>
                <button class="btn-secondary" onclick="location.reload()">Book Another Court</button>
            </div>

            <dialog id="paymentModal">
                <h3>Enter Card Details</h3>
                <form method="dialog">
                    <input id="CardNum" type="text" placeholder="Card Number" maxlength="16"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '')" required><br><br>
                    <input id="DateMonth" type="month" style="width: 40%">
                    <input id="CVV" type="text" placeholder="CVV" maxlength="3"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '')" style="width: 40%"><br>
                    <span id="price" style="display:block; margin: 10px 0; font-weight:bold;"></span>
                    <button class="btn-pay" type="button" onclick="finalizePayment()">Confirm Payment</button>
                    <button class="btn-close" type="button" onclick="closePaymentWindow()">Cancel</button>
                </form>
            </dialog>

            <dialog id="notificationModal">
                <h3 id="Error">Error!</h3>
                <p id="notificationMessage"></p>
                <button onclick="closeNotificationWindow()">Dismiss</button>
            </dialog>
            
             <dialog id="successModal">
                <h3 id="success">Success!</h3>
                <p id="successMessage"></p>
                <button class="c-click" onclick="closeSuccessWindow()">Close</button>
            </dialog>

        </div>
    </div>
</body>

</html>